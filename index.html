<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <script defer src="products.js"></script>
    <script defer src="script.js"></script>
    <title>IceT!</title>
  </head>
  <body>
    <div class="container">
      <!-- Showcase Startpage Overlay -->
      <div class="showcase_overlay">
        <img src="/img/IceT_logo_full_startpage.png" alt="IceT! logo" />
        <button type="button" id="start_button">Start</button>
        <h3>Designed and Developed by Joshua Fieldhouse &copy;2023</h3>
      </div>

      <section class="navigation">
        <div class="logo">
          <img src="/img/IceT_logo_full_startpage.png" alt="IceT! logo" />
        </div>
        <ul class="nav-items">
          <li>
            <a
              ><img
                src="logo/favourite.svg"
                alt="Favourite Orders"
                class="filter-blue favourite-meals"
            /></a>
            <svg width="40%" height="50%">
                <text x="5" y="20" font-family="Verdana" font-size="20" fill="#7fff00" stroke="#7fff00" stroke-width="1" id="favourite-counter"> 0 </text>
            </svg>
          </li>
          <li>
            <a
              ><img
                src="logo/shopping-cart.svg"
                alt="Order Basket"
                class="filter-blue shopping-basket"
            /></a>
            <svg width="40%" height="50%">
                <text x="5" y="20" font-family="Verdana" font-size="20" fill="#7fff00" stroke="#7fff00" stroke-width="1" id="basket-counter"> 0 </text>
            </svg>
          </li>
        </ul>
      </section>

      <div class="main-container">
        <div class="intro">
          <h1>Select a Product</h1>
          <h2>Then add items to your basket</h2>
        </div>

        <div class="products-area">
          <div class="product-card ice-cream-card">
            <h1>Ice-cream</h1>
            <img
              src="/img/ice-cream_base_image_transparent.png"
              alt="Ice-cream cone"
            />
          </div>
          <div class="product-card tea-card">
            <h1>Tea</h1>
            <img src="/img/tea_base.png" alt="Takeaway tea container" />
          </div>
        </div>
      </div>

        <!-- Ice-Cream / Tea Modal -->
        <div id="product-modal" data-modal="1">
          <div class="modal-container">
            <h2><!-- Generated Title -->></h2>
            <h6>
              Select your quantites and confirm the selection to add the items
              to the basket
            </h6>
            <button type="button" class="close-icon-x">X</button>
            <div class="product-container">
              <!-- Generated HTML for Products -->
            </div>
          </div>
          <div class="modal-side-bar">
            <img src="/img/IceT_logo_full_startpage.png" alt="IceT ice-creams logo" />
            <div class="basket-item-preview">
            <!-- Generated from Preview Array -->
            </div>
            <button type="button" id="add-to-basket">Add to Basket</button>
            <dialog id="dialog-basket-add">
              <p>Add items to your basket and close window? Your quantities will be reset.</p>
              <div>
                <button type="button" id="confirm-basket-add" class="confirm-button">Confirm</button>
                <button type="button" id="cancel-basket-add" class="cancel-button">Cancel</button>
              </div>
            </dialog>
          </div>
        </div>

        <!-- Basket Modal -->
        <div id="product-modal3" data-modal="3">
          <div class="modal-container basket">
            <h2>Basket</h2>
            <h6>
              Review Order
            </h6>
            <button type="button" class="close-icon-x">X</button>
            <div class="product-container">
              <!-- Generated When Basket Icon Clicked -->
            </div>
          </div>
          <div class="modal-side-bar basket">
            <img src="/img/IceT_logo_full_startpage.png" alt="IceT ice-creams logo" />
            <img src="/logo/shopping-cart.svg" alt="Basket Logo" />
            <div class="basket-item-preview">
            <!-- Generated £Totals upon Basket Click -->
            </div>
            <button type="button" id="confirm-order">Confirm Order</button>
              <dialog id="confirm-order-completion">
                  <div class="toggler">
                    <label for="favourite">Add Order to Favourite Meals?</label>
                    <input type="checkbox" name="favourite">
                  </div>
                  <div class="meal-name">
                    <label for="meal-name">Meal Name</label>
                    <input type="text" name="mealname" placeholder="Meal Name">
                  </div>
                  <div>
                  <p>Confirm Order?</p>
                  <input type="button" class="confirm-basket confirm-button" value="Confirm">Confirm</button>
                  <button type="button" class="cancel-basket cancel-button" value="cancel">Cancel</button>
                  </div>
              </dialog>
          </div>
        </div>

        <!-- Favourite Meals -->
        <div id="product-modal4" data-modal="4">
          <div class="modal-container">
            <h2>Favourite Meals</h2>
            <h6>
              Select your favourite meal and confirm the selection to add the items contained within
              to the basket
            </h6>
            <button type="button" class="close-icon-x">X</button>
            <div class="product-container">
              <div> <!-- Meal Div-->
                <div><!--Meal Header -->
                  <h2>Meal Name 1</h2>
                  <div>£All Meal Items: ${(preVatTotal).toFixed(2)}</div>
                  <button type="button" id="confirm-order">Add Meal Items to Basket</button>
                    <dialog id="confirm-basket-add">
                        <p>Add Meal to Basket?</p>
                        <div>
                          <button type="button" class="confirm-button">Confirm</button>
                          <button type="button" class="cancel-button">Cancel</button>
                        </div>
                    </dialog>
                </div>
                <div><!--Products in Meal Div--></div>
                  <div class="product-line" data-id="${object.id}">
                    <img/>
                    <div>
                      <h3>${object.icecream || object.tea} ${Object.hasOwn(object, 'icecream')? "Cone" : "Tea"}</h3>
                      <h3>x ${object.quantity}</h3>
                      <h6>Calories: ${object.calories * object.quantity}kcal</h6>
                      <h6>£${(object.price * object.quantity).toFixed(2)}</h6>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        <!-- Order Summary Screen -->
        <div class="order-summary">
          <h2>Order Number</h2>
          <h3 class="order-number"><!-- Generated --></h3>
          <div>
            <button type="button" class="print-order-number">Print Order Number</button>
            <button type="button" class="finish">Finish</button>
          </div>
        </div>

      <!-- end of startpage overlay -->

      <!-- Main App -->

      <!-- end of main app -->
    </div>
  </body>
</html>
